{% extends "base.html" %}

{% block content %}
    <h2>Thema bearbeiten</h2>

    <form method="post">
        <div>
            <label for="name">Name des Themas:</label><br>
            <input
                type="text"
                id="name"
                name="name"
                value="{{ topic['name'] }}"
                required
            >
        </div>

        <div style="margin-top: 0.5rem;">
            <label for="description">Beschreibung (optional):</label><br>
            <textarea
                id="description"
                name="description"
                rows="3"
            >{{ topic['description'] or '' }}</textarea>
        </div>

        <div style="margin-top: 1rem;">
            <button type="submit">Speichern</button>
            <a href="{{ url_for('index') }}">Abbrechen</a>
        </div>
    </form>

    <hr style="margin: 2rem 0;">

    <!-- Thema löschen -->
<hr style="margin: 2rem 0;">

<form action="{{ url_for('delete_topic', topic_id=topic['id']) }}"
      method="post"
      onsubmit="return confirm('Willst du das Thema „{{ topic['name'] }}“ samt ALLEN zugehörigen Fragen wirklich löschen?');">

    <button type="submit"
            style="background:none; border:none; color:red; cursor:pointer; padding:0; font-size:1rem;">
        Thema löschen
    </button>

    <small style="color:#666;">
        (Achtung: Alle Fragen in diesem Thema werden ebenfalls gelöscht)
    </small>

</form>

{% endblock %}
